je_com_rise_of_communism = {
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	group = je_group_foreign_affairs

	scripted_button = sb_com_rise_of_communism_test
    scripted_button = sb_com_rise_of_communism_test2
    scripted_button = sb_com_rise_of_communism_test3

    status_desc = {
        desc = je_com_rise_of_communism_status
    }

	immediate = {
        # Setup base situation
        # The id can be anything that can be stored in a variable like a flag, value or scope
        create_com_situation = {
            id = 1

            side_leader_country_left = c:GBR
            side_name_left = je_com_rise_of_communism_communists
            side_desc_left = je_com_rise_of_communism_communists_desc

            side_leader_country_right = c:FRA
            side_name_right = je_com_rise_of_communism_capitalists
            side_desc_right = je_com_rise_of_communism_capitalists_desc
        }

        set_com_situation_header = {
            text = je_com_rise_of_communism_header
        }

        # Create Hardliners faction
        create_com_situation_faction = {
            side = left
            name = je_com_rise_of_communism_faction_hardliners
            desc = je_com_rise_of_communism_faction_hardliners_desc
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:CHI
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:RUS
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:BCE
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:AYI
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:BAD
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:AUS
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:BAL
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:BEN
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_hardliners
            country = c:BGM
        }

        # Create Reformers faction
        create_com_situation_faction = {
            side = left
            name = je_com_rise_of_communism_faction_reformers
            desc = je_com_rise_of_communism_faction_reformers_desc
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_reformers
            country = c:PRU
        }

        # Create Fascist faction
        create_com_situation_faction = {
            side = right
            name = je_com_rise_of_communism_faction_fascists
            desc = je_com_rise_of_communism_faction_fascists_desc
        }
        add_com_situation_faction_country = {
            name = je_com_rise_of_communism_faction_fascists
            country = c:SWI
        }

        # Create Main Actions button group
        create_com_situation_button_group = {
            name = je_com_rise_of_communism_button_group_main_actions
            desc = je_com_rise_of_communism_button_group_main_actions_desc
        }
        add_com_situation_button_group_element = {
            group = je_com_rise_of_communism_button_group_main_actions
            name = sb_com_rise_of_communism_test
        }

        # Create Diplomatic Actions button group
        create_com_situation_button_group = {
            name = je_com_rise_of_communism_button_group_diplomatic_actions
            desc = je_com_rise_of_communism_button_group_diplomatic_actions_desc
        }
        add_com_situation_button_group_element = {
            group = je_com_rise_of_communism_button_group_diplomatic_actions
            name = sb_com_rise_of_communism_test2
        }
        add_com_situation_button_group_element = {
            group = je_com_rise_of_communism_button_group_diplomatic_actions
            name = sb_com_rise_of_communism_test3
        }
	}

    on_complete = {
        c:GBR = {
            add_modifier = {
                name = border_cowardice
            }
        }
    }

    on_fail = {
        c:FRA = {
            add_modifier = {
                name = border_cowardice
            }
        }
    }

    complete = {
        has_modifier = border_cowardice
    }

    fail = {
        has_modifier = border_cowardice
    }

    progressbar = yes
    goal_add_value = 100
    current_value = 10

	transferable = no
	can_revolution_inherit = yes

	weight = 200
	should_be_pinned_by_default = yes
}